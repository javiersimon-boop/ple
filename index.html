<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLE Blueprint: Arquitecto de tu Aprendizaje</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fuente Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out; /* Transici√≥n m√°s suave */
        }
        .accordion-content.active {
            max-height: 4000px; /* Suficientemente grande para el contenido extenso */
        }
        .inner-accordion-btn {
            background-color: #f3f4f6; /* bg-gray-100 */
            border-bottom: 1px solid #e5e7eb; /* border-gray-200 */
        }
    </style>
    <!-- Importaciones de Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, addDoc, setDoc, updateDoc, deleteDoc, onSnapshot, collection, query, where, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables provided by the environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-ple-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let app;
        let db;
        let auth;
        let userId = null;
        const COLLECTION_NAME = 'ple_tasks';

        // Helper function for exponential backoff retry logic
        const fetchWithRetry = async (fn, retries = 3, delay = 1000) => {
            for (let i = 0; i < retries; i++) {
                try {
                    return await fn();
                } catch (error) {
                    if (i === retries - 1) throw error;
                    await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));
                }
            }
        };

        const initFirebase = async () => {
            try {
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                await fetchWithRetry(async () => {
                    if (initialAuthToken) {
                        await signInWithCustomToken(auth, initialAuthToken);
                    } else {
                        await signInAnonymously(auth);
                    }
                });

                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        document.getElementById('user-info').textContent = `ID de Usuario: ${userId}`;
                        setupTaskListener();
                    } else {
                        userId = null;
                        document.getElementById('user-info').textContent = 'Iniciando sesi√≥n...';
                    }
                });

            } catch (error) {
                console.error("Error al inicializar Firebase o autenticar:", error);
                document.getElementById('task-container').innerHTML = '<p class="text-red-500">Error al cargar el sistema de tareas. Verifica la conexi√≥n.</p>';
            }
        };

        const getTaskCollectionRef = () => {
            if (!userId) {
                console.error("User ID is not defined.");
                return null;
            }
            // Private collection path
            return collection(db, `artifacts/${appId}/users/${userId}/${COLLECTION_NAME}`);
        };

        const setupTaskListener = () => {
            const tasksRef = getTaskCollectionRef();
            if (!tasksRef) return;

            onSnapshot(tasksRef, (snapshot) => {
                const tasks = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
                renderTasks(tasks);
            }, (error) => {
                console.error("Error listening to tasks:", error);
                document.getElementById('task-container').innerHTML = '<p class="text-red-500">Error al sincronizar las tareas.</p>';
            });
        };

        const addTaskToDB = async (text) => {
            const tasksRef = getTaskCollectionRef();
            if (!tasksRef) return;

            const newTask = {
                text: text,
                completed: false,
                createdAt: new Date().toISOString()
            };

            try {
                await fetchWithRetry(() => addDoc(tasksRef, newTask));
            } catch (error) {
                console.error("Error adding task:", error);
            }
        };

        const toggleTaskInDB = async (taskId, currentStatus) => {
            const taskDocRef = doc(db, `artifacts/${appId}/users/${userId}/${COLLECTION_NAME}`, taskId);

            try {
                await fetchWithRetry(() => updateDoc(taskDocRef, {
                    completed: !currentStatus
                }));
            } catch (error) {
                console.error("Error toggling task status:", error);
            }
        };

        const renderTasks = (tasks) => {
            const container = document.getElementById('task-container');
            container.innerHTML = '';
            
            // Sort tasks: uncompleted first, then completed
            tasks.sort((a, b) => {
                if (a.completed !== b.completed) {
                    return a.completed ? 1 : -1;
                }
                return new Date(a.createdAt) - new Date(b.createdAt);
            });


            if (tasks.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">¬°A√∫n no tienes tareas! Empieza por las del M√≥dulo 1.</p>';
                return;
            }

            tasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = `flex items-center justify-between p-3 mb-2 rounded-lg transition duration-200 ${task.completed ? 'bg-green-100 border-l-4 border-green-500 line-through text-gray-500' : 'bg-white shadow-sm border-l-4 border-blue-500'}`;
                taskElement.innerHTML = `
                    <span class="flex-1 mr-4">${task.text}</span>
                    <button 
                        data-id="${task.id}" 
                        data-completed="${task.completed}" 
                        class="toggle-task p-2 rounded-full text-white transition duration-150 ${task.completed ? 'bg-green-500 hover:bg-green-600' : 'bg-gray-300 hover:bg-blue-400'}"
                        title="${task.completed ? 'Marcar como pendiente' : 'Marcar como completada'}"
                    >
                        ${task.completed ? '‚úì' : '‚úó'}
                    </button>
                `;
                container.appendChild(taskElement);
            });

            // Add event listeners to buttons
            container.querySelectorAll('.toggle-task').forEach(button => {
                button.addEventListener('click', (e) => {
                    const id = e.currentTarget.dataset.id;
                    const completed = e.currentTarget.dataset.completed === 'true';
                    toggleTaskInDB(id, completed);
                });
            });
        };

        window.onload = initFirebase;
        
        // --- UI Logic ---
        window.toggleAccordion = (element) => {
            const content = document.getElementById(element);
            
            // Close others if open
            document.querySelectorAll('.accordion-content').forEach(c => {
                if (c.id !== element && c.classList.contains('active')) {
                    c.classList.remove('active');
                }
            });

            // Toggle current
            if (content) {
                content.classList.toggle('active');
            }
        };
        
        // Funci√≥n para alternar la visibilidad de las cajas de ayuda
        window.toggleHelp = (elementId) => {
            const helpContent = document.getElementById(elementId);
            if (helpContent) {
                helpContent.classList.toggle('hidden');
                helpContent.classList.toggle('block');
            }
        };

        window.handleNewTask = () => {
            const input = document.getElementById('new-task-input');
            const text = input.value.trim();
            if (text && userId) {
                addTaskToDB(text);
                input.value = '';
            } else if (!userId) {
                console.warn("Authentication not ready. Cannot add task.");
            }
        };

        window.addEventListener('DOMContentLoaded', () => {
            document.getElementById('add-task-btn').addEventListener('click', window.handleNewTask);
            document.getElementById('new-task-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    window.handleNewTask();
                }
            });
        });

    </script>
</head>
<body class="p-4 md:p-8">

    <!-- Header y Contexto -->
    <header class="mb-8 p-6 bg-blue-600 text-white rounded-xl shadow-lg">
        <h1 class="text-3xl font-bold mb-2">PLE Blueprint: Arquitecto de tu Aprendizaje</h1>
        <p class="text-blue-200 mb-4">¬°Bienvenido! Este es tu plan guiado para dise√±ar tu entorno personal de aprendizaje (PLE). El objetivo es que aprendas a aprender de forma aut√≥noma y estrat√©gica.</p>
        <p id="user-info" class="text-sm bg-blue-700 p-2 rounded-md inline-block">Conectando...</p>
    </header>

    <!-- Seguimiento de Tareas (Sticky en m√≥vil) -->
    <div class="fixed bottom-0 left-0 right-0 bg-white p-4 border-t-2 border-gray-200 z-10 md:static md:p-0 md:mb-8 md:border-none">
        <h2 class="text-xl font-semibold text-gray-800 mb-3">üõ†Ô∏è mi rastreador de tareas PLE</h2>
        <div class="flex mb-4 space-x-2">
            <input type="text" id="new-task-input" placeholder="A√±ade una tarea personalizada aqu√≠..." class="flex-grow p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-sm">
            <button id="add-task-btn" class="bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg shadow-md transition duration-150 font-semibold">a√±adir</button>
        </div>
        <!-- Contenedor de tareas (cargado por JS/Firestore) -->
        <div id="task-container" class="max-h-64 overflow-y-auto md:max-h-96">
            <div class="text-center p-4">cargando tareas...</div>
        </div>
    </div>


    <!-- Contenido Principal: M√≥dulos de Progreso (Acordeones) -->
    <div class="space-y-6 mb-20 md:mb-8">
        
        <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">üéØ m√≥dulos de progreso aut√≥nomo (tu hoja de ruta)</h2>

        <!-- M√ìDULO 1: CONCEPTUALIZACI√ìN -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
            <button onclick="toggleAccordion('content-module-1')" class="w-full text-left p-4 font-semibold text-lg text-blue-700 bg-blue-100 hover:bg-blue-200 transition duration-150 flex justify-between items-center">
                <span>m√≥dulo 1: conceptualizaci√≥n y mapeo inicial</span>
                <span class="text-xl">‚ñº</span>
            </button>
            <div class="p-4 pt-0 text-sm text-gray-600 bg-blue-50 border-b border-blue-200">
                <p><strong>meta:</strong> establecer la base conceptual de tu PLE y analizar tus herramientas actuales.</p>
            </div>
            <div id="content-module-1" class="accordion-content p-4">
                <h3 class="font-bold text-gray-700 mb-2">A. conceptualizaci√≥n (el porqu√©)</h3>
                <ul class="list-disc list-inside space-y-1 ml-4 text-sm text-gray-600 mb-4">
                    <li>**inicio con el v√≠deo:** visualiza el v√≠deo propuesto y reflexiona: ¬øc√≥mo pasas de un consumo pasivo de la red a una gesti√≥n activa y personal del aprendizaje?</li>
                    <li>**definici√≥n de PLE, PLN y curaci√≥n:** entiende la diferencia entre un LMS (plataforma cerrada) y el PLE (ecosistema distribuido y controlado por ti).</li>
                </ul>
                <h3 class="font-bold text-gray-700 mb-2">B. diagn√≥stico inicial (el punto de partida)</h3>
                <ul class="list-disc list-inside space-y-1 ml-4 text-sm text-gray-600 mb-4">
                    <li>**encuesta de estilo de aprendizaje digital:** completa un cuestionario para entender si eres m√°s visual, textual, o si te distraes con facilidad.</li>
                    <li>**primer borrador de PLE (mental):** escribe tu lista actual de "herramientas esenciales" (redes sociales, canales de YouTube) que ya uses para aprender.</li>
                </ul>
                <div class="mt-4 p-3 bg-green-100 rounded-lg border-l-4 border-green-500">
                    <p class="font-semibold text-green-700">‚úÖ hito de validaci√≥n (meta 1): base conceptual establecida</p>
                    <p class="text-sm text-green-600">debes ser capaz de describir, con tus propias palabras, la diferencia fundamental entre un LMS y un PLE, y clasificar tus herramientas actuales en las tres funciones del PLE (acceder/leer, hacer/reflexionar, relacionarse/compartir).</p>
                </div>
            </div>
        </div>

        <!-- M√ìDULO 2: PLANIFICACI√ìN Y DISE√ëO DEL BLUEPRINT -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
            <button onclick="toggleAccordion('content-module-2')" class="w-full text-left p-4 font-semibold text-lg text-blue-700 bg-blue-100 hover:bg-blue-200 transition duration-150 flex justify-between items-center">
                <span>m√≥dulo 2: planificaci√≥n estrat√©gica y dise√±o del PLE</span>
                <span class="text-xl">‚ñº</span>
            </button>
            <div class="p-4 pt-0 text-sm text-gray-600 bg-blue-50 border-b border-blue-200">
                <p><strong>meta:</strong> realiza los pasos 1, 2, 3 y 4 del "PLE Blueprint" (DAFO, SMART, mapeo y PLN).</p>
            </div>
            <div id="content-module-2" class="accordion-content p-4 space-y-4">
                <h3 class="font-bold text-gray-700 mb-4 border-b pb-2">A. tareas de planificaci√≥n</h3>
                <p class="text-sm text-gray-600">consulta las secciones **1 a 4** del detalle del *blueprint* (abajo) para desarrollar:</p>
                <ul class="list-disc list-inside ml-4 text-sm text-gray-700 space-y-1">
                    <li>**1. diagn√≥stico personal (DAFO):** analiza tus fortalezas y debilidades digitales.</li>
                    <li>**2. meta de aprendizaje SMART:** define tu objetivo principal.</li>
                    <li>**3. mapeo del PLE:** selecciona tus herramientas de trabajo.</li>
                    <li>**4. red personal de aprendizaje (PLN) curada:** selecciona tus fuentes fiables.</li>
                </ul>

                <div class="mt-6 p-3 bg-yellow-100 rounded-lg border-l-4 border-yellow-500">
                    <p class="font-semibold text-yellow-700">‚ö†Ô∏è hito de validaci√≥n (meta 2): planificaci√≥n aprobada</p>
                    <p class="text-sm text-yellow-600">debes haber completado los pasos 1 al 4. el docente actuar√° como tutor individual para validar la coherencia de tu plan antes de pasar al m√≥dulo 3.</p>
                </div>
            </div>
        </div>
        
        <!-- M√ìDULO 3: DOCUMENTACI√ìN Y REFLEXI√ìN -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
            <button onclick="toggleAccordion('content-module-3')" class="w-full text-left p-4 font-semibold text-lg text-blue-700 bg-blue-100 hover:bg-blue-200 transition duration-150 flex justify-between items-center">
                <span>m√≥dulo 3: documentaci√≥n, puesta en pr√°ctica y reflexi√≥n final</span>
                <span class="text-xl">‚ñº</span>
            </button>
             <div class="p-4 pt-0 text-sm text-gray-600 bg-blue-50 border-b border-blue-200">
                <p><strong>meta:</strong> formalizar el *blueprint*, implementarlo y realizar el an√°lisis metacognitivo final (paso 5).</p>
            </div>
            <div id="content-module-3" class="accordion-content p-4 space-y-4">
                
                <h3 class="font-bold text-gray-700 mb-4 border-b pb-2">A. creaci√≥n del PLE Blueprint (el producto)</h3>
                <p class="text-sm text-gray-600 mb-4">utiliza una herramienta (google slides, canva, etc.) para formalizar y visualizar tu dise√±o completo (los 5 puntos del blueprint).</p>
                
                <h3 class="font-bold text-gray-700 mb-4 border-b pb-2">B. reflexi√≥n final</h3>
                <p class="text-sm text-gray-600 mb-4">consulta la secci√≥n **5. diario de reflexi√≥n metacognitiva** (abajo) para realizar tu an√°lisis cr√≠tico del proceso.</p>

                <div class="mt-6 p-3 bg-red-100 rounded-lg border-l-4 border-red-500">
                    <p class="font-semibold text-red-700">üèÜ hito de finalizaci√≥n (meta 3): entrega final</p>
                    <p class="text-sm text-red-600">entrega el PLE Blueprint completo y la reflexi√≥n metacognitiva. ¬°has terminado tu proyecto de arquitecto de tu aprendizaje!</p>
                </div>
            </div>
        </div>

        <!-- Bloque 2: Detalle del PLE Blueprint (Acordeones Anidados) -->
        <h2 class="text-2xl font-bold text-gray-800 border-b pb-2 pt-8">üìù detalle del "PLE Blueprint" (pasos 1 al 5)</h2>
        <p class="text-gray-600 mb-4">consulta estas gu√≠as detalladas para realizar las tareas de planificaci√≥n y reflexi√≥n.</p>

        <!-- 1. DAFO DIGITAL -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
            <button onclick="toggleAccordion('blueprint-dafo')" class="w-full text-left p-4 font-semibold text-gray-800 hover:bg-gray-50 transition duration-150 flex justify-between items-center">
                <span>1. diagn√≥stico personal: an√°lisis FODA (DAFO) digital</span>
                <span class="text-xl">‚ñº</span>
            </button>
            <div id="blueprint-dafo" class="accordion-content p-4 text-sm">
                <div class="flex items-start justify-between mb-3 border-b pb-2">
                    <p class="mb-0 text-gray-600 flex-1">el DAFO te permite identificar de forma cr√≠tica tus fortalezas y debilidades digitales, as√≠ como las oportunidades y amenazas del entorno digital, para basar las decisiones del PLE en una estrategia de mejora personal.</p>
                    <button onclick="toggleHelp('help-dafo')" class="bg-yellow-200 text-yellow-800 p-1 px-3 rounded-full text-xs font-bold hover:bg-yellow-300 flex-shrink-0 ml-4">üí° ayuda DAFO</button>
                </div>
                <!-- Ayuda contextual DAFO -->
                <div id="help-dafo" class="hidden p-3 mb-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-r-md">
                    <p class="font-bold">¬°recuerda que este es un ejercicio de honestidad digital!</p>
                    <p class="text-xs mt-1">tu DAFO no es un examen; es tu mapa personal. si eres honesto con tus **debilidades** (ej. "me distraigo con tiktok"), podr√°s encontrar la **oportunidad** (ej. "usar apps de bloqueo") que tu PLE necesita. **cruzar el DAFO** significa usar fortalezas para aprovechar oportunidades y superar debilidades.</p>
                </div>
                <!-- Tarea -->
                <div class="pt-3">
                    <p class="font-semibold text-gray-700 mb-2">preguntas iniciales (para tu reflexi√≥n):</p>
                    <ul class="list-disc list-inside ml-4 text-gray-600 space-y-1">
                        <li>¬øc√≥mo gestionas la informaci√≥n de tus asignaturas? ¬øtienes un sistema o es ca√≥tico?</li>
                        <li>¬øqu√© herramienta digital manejas mejor que el promedio? (fortaleza)</li>
                        <li>¬øqu√© te distrae m√°s al estudiar online? (debilidad/amenaza)</li>
                        <li>¬øqu√© habilidad digital te gustar√≠a adquirir en los pr√≥ximos meses? (oportunidad)</li>
                    </ul>
                </div>
                <!-- Pasos -->
                <div class="border-t pt-3 mt-3">
                    <p class="font-semibold text-gray-700 mb-2">pasos a seguir (la tarea de escritura):</p>
                    <ol class="list-decimal list-inside ml-4 space-y-3 text-gray-600">
                        <li>dibuja la matriz DAFO (4 cuadrantes).</li>
                        <li>rellena la matriz con 3-4 √≠tems por cuadrante, enfoc√°ndote en tus h√°bitos de aprendizaje online.
                            <div class="p-2 bg-yellow-50 text-yellow-700 rounded-md mt-2 text-xs italic">
                                **ejemplos diversos:**
                                <ul>
                                    <li>**fuerza:** s√© usar plantillas complejas en *notion* para organizar el temario. / manejo fluido de atajos de teclado.</li>
                                    <li>**debilidad:** me cuesta concentrarme; reviso las redes cada 5 minutos. / no s√© c√≥mo almacenar de forma organizada los pdfs.</li>
                                    <li>**oportunidad:** hay cursos *online* gratuitos de curaci√≥n de contenidos (ej. *pocket* o *feedly*). / tengo acceso a una tablet con l√°piz √≥ptico.</li>
                                    <li>**amenaza:** el 80% de las fuentes sobre mi tema en redes son bulos (infoxicaci√≥n). / mis compa√±eros env√≠an tareas por *whatsapp*.</li>
                                </ul>
                            </div>
                        </li>
                        <li>**cruza el DAFO:** identifica una debilidad que puedes mitigar con una oportunidad. **ejemplo:** "mi debilidad 'me distraigo con notificaciones' se mitiga con la oportunidad 'usar apps de productividad que bloquean apps' para crear un entorno de trabajo sin interrupciones."</li>
                    </ol>
                </div>
                <!-- Autoevaluaci√≥n -->
                <div class="mt-3 p-3 bg-gray-100 rounded-lg">
                    <p class="font-semibold text-gray-700 mb-1">autoevaluaci√≥n:</p>
                    <ul class="list-disc list-inside ml-4 text-xs text-gray-600">
                        <li>¬øcada elemento del DAFO est√° enfocado en mi vida digital y aprendizaje, no solo en mi personalidad general?</li>
                        <li>¬øhe identificado al menos una debilidad que **mi nuevo PLE** debe solucionar?</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- 2. META SMART -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
            <button onclick="toggleAccordion('blueprint-meta')" class="w-full text-left p-4 font-semibold text-gray-800 hover:bg-gray-50 transition duration-150 flex justify-between items-center">
                <span>2. meta de aprendizaje estrat√©gica (SMART)</span>
                <span class="text-xl">‚ñº</span>
            </button>
            <div id="blueprint-meta" class="accordion-content p-4 text-sm">
                <div class="flex items-start justify-between mb-3 border-b pb-2">
                    <p class="mb-0 text-gray-600 flex-1">debes definir tu objetivo de aprendizaje de forma clara, medible y limitada en el tiempo, que servir√° de eje central para el dise√±o de tu PLE.</p>
                    <button onclick="toggleHelp('help-meta')" class="bg-green-200 text-green-800 p-1 px-3 rounded-full text-xs font-bold hover:bg-green-300 flex-shrink-0 ml-4">üí° ayuda SMART</button>
                </div>
                <!-- Ayuda contextual META SMART -->
                <div id="help-meta" class="hidden p-3 mb-4 bg-green-50 border-l-4 border-green-400 text-green-700 rounded-r-md">
                    <p class="font-bold">¬°la clave est√° en ser espec√≠fico y medible!</p>
                    <p class="text-xs mt-1">una meta vaga es "quiero aprender a dibujar". una meta SMART es: "voy a ser capaz de dibujar 5 personajes en estilo pixel art (espec√≠fico, medible) usando krita (alcanzable) para un proyecto de clase (relevante) antes del viernes de la pr√≥xima semana (temporal)."</p>
                </div>
                <!-- Tarea -->
                <div class="pt-3">
                    <p class="font-semibold text-gray-700 mb-2">preguntas iniciales (para tu reflexi√≥n):</p>
                    <ul class="list-disc list-inside ml-4 text-gray-600 space-y-1">
                        <li>considerando tu DAFO, ¬øqu√© brecha de conocimiento o habilidad es la m√°s urgente o motivadora para ti?</li>
                        <li>¬øc√≥mo sabr√°s objetivamente que has alcanzado esa meta? ¬øcon un producto, una puntuaci√≥n o una certificaci√≥n?</li>
                    </ul>
                </div>
                <!-- Pasos -->
                <div class="border-t pt-3 mt-3">
                    <p class="font-semibold text-gray-700 mb-2">pasos a seguir (la tarea de escritura):</p>
                    <ol class="list-decimal list-inside ml-4 space-y-3 text-gray-600">
                        <li>elige un tema espec√≠fico (ej. "introducci√≥n a la programaci√≥n en python", no solo "aprender python").</li>
                        <li>define la meta usando el acr√≥nimo SMART:
                            <div class="p-2 bg-blue-50 text-blue-700 rounded-md mt-2 text-xs italic space-y-1">
                                <ul>
                                    <li>**e**spec√≠fica: ¬øqu√© har√°s exactamente?</li>
                                    <li>**m**edible: ¬øc√≥mo se cuantifica el √©xito (5 personajes, 80% de aciertos, 1 proyecto final)?</li>
                                    <li>**a**lcanzable: ¬øes realista con tus recursos y tiempo actual?</li>
                                    <li>**r**elevante: ¬øpor qu√© importa esta meta para ti o tus estudios?</li>
                                    <li>**t**emporal: ¬øcu√°ndo debe estar completada (fecha l√≠mite clara)?</li>
                                </ul>
                                **ejemplo de meta (SMART):** "ser√© capaz de generar 10 im√°genes art√≠sticas y 5 textos coherentes usando un modelo de IA (ej. Gemini o Midjourney) en el plazo de **3 semanas**, para crear la base de mi portfolio digital."
                            </div>
                        </li>
                        <li>redacta la meta en una sola frase clara.</li>
                    </ol>
                </div>
                <!-- Autoevaluaci√≥n -->
                <div class="mt-3 p-3 bg-gray-100 rounded-lg">
                    <p class="font-semibold text-gray-700 mb-1">autoevaluaci√≥n:</p>
                    <ul class="list-disc list-inside ml-4 text-xs text-gray-600">
                        <li>¬øsi le ense√±as esta meta a un compa√±ero, √©l entender√≠a exactamente qu√© vas a conseguir y cu√°ndo?</li>
                        <li>¬øla meta est√° directamente relacionada con al menos una oportunidad identificada en tu DAFO?</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 3. MAPEO DEL PLE -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
            <button onclick="toggleAccordion('blueprint-mapeo')" class="w-full text-left p-4 font-semibold text-gray-800 hover:bg-gray-50 transition duration-150 flex justify-between items-center">
                <span>3. mapeo del PLE: asignaci√≥n de herramientas y recursos</span>
                <span class="text-xl">‚ñº</span>
            </button>
            <div id="blueprint-mapeo" class="accordion-content p-4 text-sm">
                <div class="flex items-start justify-between mb-3 border-b pb-2">
                    <p class="mb-0 text-gray-600 flex-1">crea un diagrama donde se relacionen las herramientas y fuentes de informaci√≥n (formales e informales) necesarias para alcanzar tu meta SMART.</p>
                    <button onclick="toggleHelp('help-mapeo')" class="bg-indigo-200 text-indigo-800 p-1 px-3 rounded-full text-xs font-bold hover:bg-indigo-300 flex-shrink-0 ml-4">üí° ayuda mapeo</button>
                </div>
                <!-- Ayuda contextual MAPEO -->
                <div id="help-mapeo" class="hidden p-3 mb-4 bg-indigo-50 border-l-4 border-indigo-400 text-indigo-700 rounded-r-md">
                    <p class="font-bold">¬°cada herramienta debe tener un trabajo!</p>
                    <p class="text-xs mt-1">no listes tus 10 *apps* favoritas. preg√∫ntate: ¬øqu√© uso para **curar** (acceder)? ¬øqu√© uso para **producir o guardar** (hacer)? ¬øqu√© uso para **interactuar y validar** (relacionarse)? aseg√∫rate de que las herramientas que ya usas resuelvan tus debilidades.</p>
                </div>
                <!-- Tarea -->
                <div class="pt-3">
                    <p class="font-semibold text-gray-700 mb-2">preguntas iniciales (para tu reflexi√≥n):</p>
                    <ul class="list-disc list-inside ml-4 text-gray-600 space-y-1">
                        <li>para alcanzar tu meta SMART, ¬øqu√© necesitas *leer/consumir* (recursos)?</li>
                        <li>¬øqu√© necesitas *crear/reflexionar* (herramientas)?</li>
                        <li>¬øcon qui√©n necesitas *hablar/compartir* (PLN)?</li>
                    </ul>
                </div>
                <!-- Pasos -->
                <div class="border-t pt-3 mt-3">
                    <p class="font-semibold text-gray-700 mb-2">pasos a seguir (la tarea de escritura):</p>
                    <ol class="list-decimal list-inside ml-4 space-y-3 text-gray-600">
                        <li>crea un mapa mental o diagrama visual con tres ramas principales (acceder/leer, hacer/reflexionar, relacionarse/compartir).</li>
                        <li>rellena las tres categor√≠as.
                            <div class="p-2 bg-indigo-50 text-indigo-700 rounded-md mt-2 text-xs italic">
                                **ejemplos detallados de herramientas por funci√≥n:**
                                <ul>
                                    <li>**acceder / leer:** *feedly* (agregador de blogs y noticias), *youtube* (canales de tutoriales espec√≠ficos), *biblioteca digital del centro*.</li>
                                    <li>**hacer / reflexionar:** *notion* (gesti√≥n de notas y tareas), *gimp* (edici√≥n de im√°genes), *miro* (mapas mentales y diagramas).</li>
                                    <li>**relacionarse / compartir:** grupo de *discord* de programadores, foro *stack overflow*, *linkedin* (para contactar profesionales).</li>
                                </ul>
                            </div>
                        </li>
                        <li>aseg√∫rate de que cada herramienta seleccionada soluciona una debilidad de tu DAFO o facilita un paso para tu meta SMART.</li>
                    </ol>
                </div>
                <!-- Autoevaluaci√≥n -->
                <div class="mt-3 p-3 bg-gray-100 rounded-lg">
                    <p class="font-semibold text-gray-700 mb-1">autoevaluaci√≥n:</p>
                    <ul class="list-disc list-inside ml-4 text-xs text-gray-600">
                        <li>¬øhas seleccionado intencionadamente herramientas que no usabas antes para mejorar tu proceso?</li>
                        <li>¬øpodr√≠as eliminar alguna herramienta de tu mapa sin que afecte el logro de tu meta SMART? si la respuesta es s√≠, ¬°elim√≠nala!</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 4. PLN CURADA -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
            <button onclick="toggleAccordion('blueprint-pln')" class="w-full text-left p-4 font-semibold text-gray-800 hover:bg-gray-50 transition duration-150 flex justify-between items-center">
                <span>4. red personal de aprendizaje (PLN) curada</span>
                <span class="text-xl">‚ñº</span>
            </button>
            <div id="blueprint-pln" class="accordion-content p-4 text-sm">
                <div class="flex items-start justify-between mb-3 border-b pb-2">
                    <p class="mb-0 text-gray-600 flex-1">identifica y selecciona proactivamente a las personas, canales o comunidades de las que aprendes, justificando su fiabilidad y relevancia para tu meta establecida.</p>
                    <button onclick="toggleHelp('help-pln')" class="bg-red-200 text-red-800 p-1 px-3 rounded-full text-xs font-bold hover:bg-red-300 flex-shrink-0 ml-4">üí° ayuda PLN</button>
                </div>
                <!-- Ayuda contextual PLN -->
                <div id="help-pln" class="hidden p-3 mb-4 bg-red-50 border-l-4 border-red-400 text-red-700 rounded-r-md">
                    <p class="font-bold">¬°tu PLN debe ser un filtro de calidad, no una fuente de ruido!</p>
                    <p class="text-xs mt-1">no te limites a seguir a personas populares. preg√∫ntate: ¬øcitan sus fuentes? ¬øtienen experiencia comprobable en el tema? elige un PLN peque√±o, experto y de confianza, y planifica c√≥mo vas a interactuar para validar tu conocimiento (estrategia de interacci√≥n).</p>
                </div>
                <!-- Tarea -->
                <div class="pt-3">
                    <p class="font-semibold text-gray-700 mb-2">preguntas iniciales (para tu reflexi√≥n):</p>
                    <ul class="list-disc list-inside ml-4 text-gray-600 space-y-1">
                        <li>¬øqui√©nes son los 3 expertos o canales m√°s fiables en el tema de tu meta SMART?</li>
                        <li>¬øc√≥mo vas a interactuar con ellos (solo leer o tambi√©n preguntar/compartir)?</li>
                    </ul>
                </div>
                <!-- Pasos -->
                <div class="border-t pt-3 mt-3">
                    <p class="font-semibold text-gray-700 mb-2">pasos a seguir (la tarea de escritura):</p>
                    <ol class="list-decimal list-inside ml-4 space-y-3 text-gray-600">
                        <li>identifica 3-5 fuentes (personas, foros, *influencers*, grupos) relevantes para tu meta.
                            <div class="p-2 bg-red-50 text-red-700 rounded-md mt-2 text-xs italic">
                                **ejemplos diversos de PLN:**
                                <ul>
                                    <li>*canal de youtube "techreview"* (por la calidad de sus demostraciones pr√°cticas).</li>
                                    <li>*comunidad "pydevs" en discord* (para resolver dudas t√©cnicas puntuales).</li>
                                    <li>*profesor de la universidad y en linkedin* (publica art√≠culos acad√©micos que validan mi conocimiento).</li>
                                </ul>
                            </div>
                        </li>
                        <li>investiga su fiabilidad (¬øcomparten fuentes? ¬øson profesionales? ¬øson activos?).</li>
                        <li>documenta: nombre/canal, plataforma, y **por qu√© lo eliges** (su justificaci√≥n de fiabilidad: ej. "publica c√≥digo abierto y cita referencias").</li>
                        <li>define una **estrategia de interacci√≥n** (ej. "solo leer√© sus publicaciones" o "participar√© semanalmente en el foro X para responder dudas sencillas").</li>
                    </ol>
                </div>
                <!-- Autoevaluaci√≥n -->
                <div class="mt-3 p-3 bg-gray-100 rounded-lg">
                    <p class="font-semibold text-gray-700 mb-1">autoevaluaci√≥n:</p>
                    <ul class="list-disc list-inside ml-4 text-xs text-gray-600">
                        <li>¬øcada miembro de tu PLN es un experto en tu meta SMART?</li>
                        <li>¬øhe justificado por qu√© estas fuentes son m√°s fiables que las que uso para mi ocio?</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- 5. DIARIO REFLEXI√ìN -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
            <button onclick="toggleAccordion('blueprint-diario')" class="w-full text-left p-4 font-semibold text-gray-800 hover:bg-gray-50 transition duration-150 flex justify-between items-center">
                <span>5. diario de reflexi√≥n metacognitiva</span>
                <span class="text-xl">‚ñº</span>
            </button>
            <div id="blueprint-diario" class="accordion-content p-4 text-sm">
                <div class="flex items-start justify-between mb-3 border-b pb-2">
                    <p class="mb-0 text-gray-600 flex-1">un registro cr√≠tico donde evaluar√°s la eficacia de las herramientas y la estrategia del PLE una vez implementado. responde a la pregunta de **"c√≥mo he aprendido"**.</p>
                    <button onclick="toggleHelp('help-diario')" class="bg-pink-200 text-pink-800 p-1 px-3 rounded-full text-xs font-bold hover:bg-pink-300 flex-shrink-0 ml-4">üí° ayuda diario</button>
                </div>
                <!-- Ayuda contextual DIARIO -->
                <div id="help-diario" class="hidden p-3 mb-4 bg-pink-50 border-l-4 border-pink-400 text-pink-700 rounded-r-md">
                    <p class="font-bold">¬°la reflexi√≥n es el motor de la mejora continua!</p>
                    <p class="text-xs mt-1">este no es un diario de tareas (para eso est√° el rastreador). es un diario de **estrategia**. s√© duro contigo mismo: ¬øla herramienta x fall√≥ o fall√≥ mi forma de usarla? ¬øqu√© har√≠a diferente si empezara de nuevo? las respuestas aqu√≠ son tu aprendizaje m√°s valioso.</p>
                </div>
                <!-- Tarea -->
                <div class="pt-3">
                    <p class="font-semibold text-gray-700 mb-2">preguntas iniciales (para tu reflexi√≥n):</p>
                    <ul class="list-disc list-inside ml-4 text-gray-600 space-y-1">
                        <li>durante el proceso de aprendizaje, ¬øqu√© me est√° resultando m√°s dif√≠cil: la meta, las herramientas o la motivaci√≥n?</li>
                        <li>¬øla herramienta que eleg√≠ para la funci√≥n "hacer/reflexionar" est√° siendo realmente eficaz?</li>
                    </ul>
                </div>
                <!-- Pasos -->
                <div class="border-t pt-3 mt-3">
                    <p class="font-semibold text-gray-700 mb-2">pasos a seguir (la tarea de escritura):</p>
                    <ol class="list-decimal list-inside ml-4 space-y-3 text-gray-600">
                        <li>**pre-an√°lisis:** antes de empezar, registra tus expectativas sobre el PLE.</li>
                        <li>**durante el proceso (registro semanal):** dedica 10 minutos semanales a responder: "¬øqu√© funcion√≥ bien esta semana? ¬øqu√© recurso me hizo perder el tiempo? ¬øpor qu√©?".
                            <div class="p-2 bg-pink-50 text-pink-700 rounded-md mt-2 text-xs italic">
                                **ej. entrada cr√≠tica:** "la herramienta x (ej. notion) fue demasiado compleja para m√≠ al principio; perd√≠ dos horas intentando organizarlo todo. para la pr√≥xima meta, debo buscar un tutorial inicial."
                            </div>
                        </li>
                        <li>**post-an√°lisis (final):** responde a las 4 preguntas de la secci√≥n B del m√≥dulo 3 (evaluaci√≥n de la meta, eficacia de las herramientas, estrategia de PLN, lecci√≥n aprendida).</li>
                    </ol>
                </div>
                <!-- Autoevaluaci√≥n -->
                <div class="mt-3 p-3 bg-gray-100 rounded-lg">
                    <p class="font-semibold text-gray-700 mb-1">autoevaluaci√≥n:</p>
                    <ul class="list-disc list-inside ml-4 text-xs text-gray-600">
                        <li>¬ømi diario incluye an√°lisis cr√≠tico y no solo descripci√≥n de tareas?</li>
                        <li>¬øhe identificado al menos un cambio estructural que har√© en mi PLE despu√©s de esta experiencia?</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Espacio para evitar que el contenido sea ocultado por el task tracker fixed -->
    <div class="h-32 md:h-16"></div> 

</body>
</html>
